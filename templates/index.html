{% extends "base.html" %}

{% block body %}

	<style>
		td.details-control {
			background: url('https://www.datatables.net/examples/resources/details_open.png') no-repeat center center;
			cursor: pointer;
		}
		tr.shown td.details-control {
			background: url('https://www.datatables.net/examples/resources/details_close.png') no-repeat center center;
		}
	</style>

	<div class="card">
		<div class='card-header' style="text-align: center">
			Welcome!
		</div>
		<div class="card-body" style='padding-bottom:0'>
			<br>
			<form method="POST" action='/search' class="form-horizontal no-margin no-padding" style='margin-bottom: 0; padding-bottom: 0' id='search_form'>
				{{ forms.search_field(name='player_name', value='', type='text', placeholder='Enter a Players Name', required='true') }}
				{{ forms.select_field(name='platform', type='text', placeholder='', required='true', options=platform_selections) }}
				{{ forms.select_field_two_one_line(name_one='perspective', type_one='text', placeholder_one='', required_one='true', options_one=perspective_selections, name_two='game_mode', type_two='text', placeholder_two='', required_two='true', options_two=gamemode_selections) }}
				<input type="submit" style="display: none"/>
			</form>
			<input type="hidden" id="player_id" value="null">
			<input type="hidden" id="player_name" value="null">
			<input type="hidden" id="season_stats_endpoint" value="/retrieve_season_stats">
			<input type="hidden" id="retrieve_matches" value="/retrieve_matches">
		</div>
	</div>

	<br>
	<div class="card accordion" id='seasons_container'>
			
		<div class='card-header' id="season_stats_button" data-toggle="collapse" data-target="#season_stats" aria-expanded="true" aria-controls="season_stats">
			Show/Hide Season Stats
		</div>

		<div class="card-body collapse" id="season_stats">
			<div class='row' id='fpp_row' style='margin-bottom: 10px'>
				{% include "includes/solo_fpp_season_stats.html" %}
				{% include "includes/duo_fpp_season_stats.html" %}
				{% include "includes/squad_fpp_season_stats.html" %}
			</div>
			<div class="row" id='tpp_row'style='margin-top: 10px'>
				{% include "includes/solo_season_stats.html" %}
				{% include "includes/duo_season_stats.html" %}
				{% include "includes/squad_season_stats.html" %}
			</div>
		</div>

	</div>

	<br>

	<div class="card accordion" id='datatable_container'>
		<div class="card-header">
			<b>Please note:</b>
			<ol>
				<li>This table will auto-reload with data as of when it becomes available.</li>
				<li>Only matches from the last 14 days, will show here.</li>
			</ol>
		</div>
		<div class="card-body">
			<table class='table table-condensed hover' id='results_datatable'  style="width:100%">
				<thead>
					<tr>
						<th width='8'></th>
						<th width='8%'>Map</th>
						<th width='8%'>Mode</th>
						<th width='8%'>Type</th>
						<th width='8%'>Created</th>
						<th width='8%'>Placement</th>
						<th width='60%'>Details</th>
						<th width='10%'>Actions</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>
{% endblock %}